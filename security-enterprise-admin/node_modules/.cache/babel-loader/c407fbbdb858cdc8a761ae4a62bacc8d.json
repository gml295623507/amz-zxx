{"remainingRequest":"/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/node_modules/babel-loader/lib/index.js!/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/src/mixins/view-module.js","dependencies":[{"path":"/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/src/mixins/view-module.js","mtime":1569313608000},{"path":"/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/node_modules/cache-loader/dist/cjs.js","mtime":1593769583426},{"path":"/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/node_modules/babel-loader/lib/index.js","mtime":1593769580300},{"path":"/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/node_modules/eslint-loader/index.js","mtime":1593769582427}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _defineProperty from \"/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Cookies from 'js-cookie';\nimport qs from 'qs';\nexport default {\n  data: function data() {\n    /* eslint-disable */\n    return {\n      // 设置属性\n      mixinViewModuleOptions: {\n        createdIsNeed: true,\n        // 此页面是否在创建时，调用查询数据列表接口？\n        activatedIsNeed: false,\n        // 此页面是否在激活（进入）时，调用查询数据列表接口？\n        getDataListURL: '',\n        // 数据列表接口，API地址\n        getDataListIsPage: false,\n        // 数据列表接口，是否需要分页？\n        deleteURL: '',\n        // 删除接口，API地址\n        deleteIsBatch: false,\n        // 删除接口，是否需要批量？\n        deleteIsBatchKey: 'id',\n        // 删除接口，批量状态下由那个key进行标记操作？比如：pid，uid...\n        exportURL: '' // 导出接口，API地址\n\n      },\n      // 默认属性\n      dataForm: {},\n      // 查询条件\n      dataList: [],\n      // 数据列表\n      order: '',\n      // 排序，asc／desc\n      orderField: '',\n      // 排序，字段\n      page: 1,\n      // 当前页码\n      limit: 10,\n      // 每页数\n      total: 0,\n      // 总条数\n      dataListLoading: false,\n      // 数据列表，loading状态\n      dataListSelections: [],\n      // 数据列表，多选项\n      addOrUpdateVisible: false // 新增／更新，弹窗visible状态\n\n    };\n    /* eslint-enable */\n  },\n  created: function created() {\n    if (this.mixinViewModuleOptions.createdIsNeed) {\n      this.query();\n    }\n  },\n  activated: function activated() {\n    if (this.mixinViewModuleOptions.activatedIsNeed) {\n      this.query();\n    }\n  },\n  methods: {\n    // 获取数据列表\n    query: function query() {\n      var _this = this;\n\n      this.dataListLoading = true;\n      this.$http.get(this.mixinViewModuleOptions.getDataListURL, {\n        params: _objectSpread({\n          order: this.order,\n          orderField: this.orderField,\n          page: this.mixinViewModuleOptions.getDataListIsPage ? this.page : null,\n          limit: this.mixinViewModuleOptions.getDataListIsPage ? this.limit : null\n        }, this.dataForm)\n      }).then(function (_ref) {\n        var res = _ref.data;\n        _this.dataListLoading = false;\n\n        if (res.code !== 0) {\n          _this.dataList = [];\n          _this.total = 0;\n          return _this.$message.error(res.msg);\n        }\n\n        _this.dataList = _this.mixinViewModuleOptions.getDataListIsPage ? res.data.list : res.data;\n        _this.total = _this.mixinViewModuleOptions.getDataListIsPage ? res.data.total : 0;\n      }).catch(function () {\n        _this.dataListLoading = false;\n      });\n    },\n    // 多选\n    dataListSelectionChangeHandle: function dataListSelectionChangeHandle(val) {\n      this.dataListSelections = val;\n    },\n    // 排序\n    dataListSortChangeHandle: function dataListSortChangeHandle(data) {\n      if (!data.order || !data.prop) {\n        this.order = '';\n        this.orderField = '';\n        return false;\n      }\n\n      this.order = data.order.replace(/ending$/, '');\n      this.orderField = data.prop.replace(/([A-Z])/g, '_$1').toLowerCase();\n      this.query();\n    },\n    // 分页, 每页条数\n    pageSizeChangeHandle: function pageSizeChangeHandle(val) {\n      this.page = 1;\n      this.limit = val;\n      this.query();\n    },\n    // 分页, 当前页\n    pageCurrentChangeHandle: function pageCurrentChangeHandle(val) {\n      this.page = val;\n      this.query();\n    },\n    getDataList: function getDataList() {\n      this.page = 1;\n      this.query();\n    },\n    // 新增 / 修改\n    addOrUpdateHandle: function addOrUpdateHandle(id) {\n      var _this2 = this;\n\n      this.addOrUpdateVisible = true;\n      this.$nextTick(function () {\n        _this2.$refs.addOrUpdate.dataForm.id = id;\n\n        _this2.$refs.addOrUpdate.init();\n      });\n    },\n    // 删除\n    deleteHandle: function deleteHandle(id) {\n      var _this3 = this;\n\n      if (this.mixinViewModuleOptions.deleteIsBatch && !id && this.dataListSelections.length <= 0) {\n        return this.$message({\n          message: this.$t('prompt.deleteBatch'),\n          type: 'warning',\n          duration: 500\n        });\n      }\n\n      this.$confirm(this.$t('prompt.info', {\n        'handle': this.$t('delete')\n      }), this.$t('prompt.title'), {\n        confirmButtonText: this.$t('confirm'),\n        cancelButtonText: this.$t('cancel'),\n        type: 'warning'\n      }).then(function () {\n        _this3.$http.delete(\"\".concat(_this3.mixinViewModuleOptions.deleteURL).concat(_this3.mixinViewModuleOptions.deleteIsBatch ? '' : '/' + id), _this3.mixinViewModuleOptions.deleteIsBatch ? {\n          'data': id ? [id] : _this3.dataListSelections.map(function (item) {\n            return item[_this3.mixinViewModuleOptions.deleteIsBatchKey];\n          })\n        } : {}).then(function (_ref2) {\n          var res = _ref2.data;\n\n          if (res.code !== 0) {\n            return _this3.$message.error(res.msg);\n          }\n\n          _this3.$message({\n            message: _this3.$t('prompt.success'),\n            type: 'success',\n            duration: 500,\n            onClose: function onClose() {\n              _this3.query();\n            }\n          });\n        }).catch(function () {});\n      }).catch(function () {});\n    },\n    // 导出\n    exportHandle: function exportHandle() {\n      var params = qs.stringify(_objectSpread({\n        'token': Cookies.get('token')\n      }, this.dataForm));\n      window.location.href = \"\".concat(window.SITE_CONFIG['apiURL']).concat(this.mixinViewModuleOptions.exportURL, \"?\").concat(params);\n    }\n  }\n};",{"version":3,"sources":["/Users/95h/95h-Projects/security-enterprise-2.4.0/security-enterprise-admin/src/mixins/view-module.js"],"names":["Cookies","qs","data","mixinViewModuleOptions","createdIsNeed","activatedIsNeed","getDataListURL","getDataListIsPage","deleteURL","deleteIsBatch","deleteIsBatchKey","exportURL","dataForm","dataList","order","orderField","page","limit","total","dataListLoading","dataListSelections","addOrUpdateVisible","created","query","activated","methods","$http","get","params","then","res","code","$message","error","msg","list","catch","dataListSelectionChangeHandle","val","dataListSortChangeHandle","prop","replace","toLowerCase","pageSizeChangeHandle","pageCurrentChangeHandle","getDataList","addOrUpdateHandle","id","$nextTick","$refs","addOrUpdate","init","deleteHandle","length","message","$t","type","duration","$confirm","confirmButtonText","cancelButtonText","delete","map","item","onClose","exportHandle","stringify","window","location","href","SITE_CONFIG"],"mappings":"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","sourcesContent":["import Cookies from 'js-cookie'\r\nimport qs from 'qs'\r\nexport default {\r\n  data () {\r\n    /* eslint-disable */\r\n    return {\r\n      // 设置属性\r\n      mixinViewModuleOptions: {\r\n        createdIsNeed: true,       // 此页面是否在创建时，调用查询数据列表接口？\r\n        activatedIsNeed: false,    // 此页面是否在激活（进入）时，调用查询数据列表接口？\r\n        getDataListURL: '',       // 数据列表接口，API地址\r\n        getDataListIsPage: false, // 数据列表接口，是否需要分页？\r\n        deleteURL: '',            // 删除接口，API地址\r\n        deleteIsBatch: false,     // 删除接口，是否需要批量？\r\n        deleteIsBatchKey: 'id',   // 删除接口，批量状态下由那个key进行标记操作？比如：pid，uid...\r\n        exportURL: ''             // 导出接口，API地址\r\n      },\r\n      // 默认属性\r\n      dataForm: {},               // 查询条件\r\n      dataList: [],               // 数据列表\r\n      order: '',                  // 排序，asc／desc\r\n      orderField: '',             // 排序，字段\r\n      page: 1,                    // 当前页码\r\n      limit: 10,                  // 每页数\r\n      total: 0,                   // 总条数\r\n      dataListLoading: false,     // 数据列表，loading状态\r\n      dataListSelections: [],     // 数据列表，多选项\r\n      addOrUpdateVisible: false   // 新增／更新，弹窗visible状态\r\n    }\r\n    /* eslint-enable */\r\n  },\r\n  created () {\r\n    if (this.mixinViewModuleOptions.createdIsNeed) {\r\n      this.query()\r\n    }\r\n  },\r\n  activated () {\r\n    if (this.mixinViewModuleOptions.activatedIsNeed) {\r\n      this.query()\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取数据列表\r\n    query () {\r\n      this.dataListLoading = true\r\n      this.$http.get(\r\n        this.mixinViewModuleOptions.getDataListURL,\r\n        {\r\n          params: {\r\n            order: this.order,\r\n            orderField: this.orderField,\r\n            page: this.mixinViewModuleOptions.getDataListIsPage ? this.page : null,\r\n            limit: this.mixinViewModuleOptions.getDataListIsPage ? this.limit : null,\r\n            ...this.dataForm\r\n          }\r\n        }\r\n      ).then(({ data: res }) => {\r\n        this.dataListLoading = false\r\n        if (res.code !== 0) {\r\n          this.dataList = []\r\n          this.total = 0\r\n          return this.$message.error(res.msg)\r\n        }\r\n        this.dataList = this.mixinViewModuleOptions.getDataListIsPage ? res.data.list : res.data\r\n        this.total = this.mixinViewModuleOptions.getDataListIsPage ? res.data.total : 0\r\n      }).catch(() => {\r\n        this.dataListLoading = false\r\n      })\r\n    },\r\n    // 多选\r\n    dataListSelectionChangeHandle (val) {\r\n      this.dataListSelections = val\r\n    },\r\n    // 排序\r\n    dataListSortChangeHandle (data) {\r\n      if (!data.order || !data.prop) {\r\n        this.order = ''\r\n        this.orderField = ''\r\n        return false\r\n      }\r\n      this.order = data.order.replace(/ending$/, '')\r\n      this.orderField = data.prop.replace(/([A-Z])/g, '_$1').toLowerCase()\r\n      this.query()\r\n    },\r\n    // 分页, 每页条数\r\n    pageSizeChangeHandle (val) {\r\n      this.page = 1\r\n      this.limit = val\r\n      this.query()\r\n    },\r\n    // 分页, 当前页\r\n    pageCurrentChangeHandle (val) {\r\n      this.page = val\r\n      this.query()\r\n    },\r\n    getDataList: function () {\r\n      this.page = 1\r\n      this.query()\r\n    },\r\n    // 新增 / 修改\r\n    addOrUpdateHandle (id) {\r\n      this.addOrUpdateVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.addOrUpdate.dataForm.id = id\r\n        this.$refs.addOrUpdate.init()\r\n      })\r\n    },\r\n    // 删除\r\n    deleteHandle (id) {\r\n      if (this.mixinViewModuleOptions.deleteIsBatch && !id && this.dataListSelections.length <= 0) {\r\n        return this.$message({\r\n          message: this.$t('prompt.deleteBatch'),\r\n          type: 'warning',\r\n          duration: 500\r\n        })\r\n      }\r\n      this.$confirm(this.$t('prompt.info', { 'handle': this.$t('delete') }), this.$t('prompt.title'), {\r\n        confirmButtonText: this.$t('confirm'),\r\n        cancelButtonText: this.$t('cancel'),\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http.delete(\r\n          `${this.mixinViewModuleOptions.deleteURL}${this.mixinViewModuleOptions.deleteIsBatch ? '' : '/' + id}`,\r\n          this.mixinViewModuleOptions.deleteIsBatch ? {\r\n            'data': id ? [id] : this.dataListSelections.map(item => item[this.mixinViewModuleOptions.deleteIsBatchKey])\r\n          } : {}\r\n        ).then(({ data: res }) => {\r\n          if (res.code !== 0) {\r\n            return this.$message.error(res.msg)\r\n          }\r\n          this.$message({\r\n            message: this.$t('prompt.success'),\r\n            type: 'success',\r\n            duration: 500,\r\n            onClose: () => {\r\n              this.query()\r\n            }\r\n          })\r\n        }).catch(() => {})\r\n      }).catch(() => {})\r\n    },\r\n    // 导出\r\n    exportHandle () {\r\n      var params = qs.stringify({\r\n        'token': Cookies.get('token'),\r\n        ...this.dataForm\r\n      })\r\n      window.location.href = `${window.SITE_CONFIG['apiURL']}${this.mixinViewModuleOptions.exportURL}?${params}`\r\n    }\r\n  }\r\n}\r\n"]}]}