{"remainingRequest":"/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/node_modules/babel-loader/lib/index.js!/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/src/views/main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/src/views/main.vue","mtime":1569313608000},{"path":"/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/node_modules/cache-loader/dist/cjs.js","mtime":1593769583426},{"path":"/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/node_modules/babel-loader/lib/index.js","mtime":1593769580300},{"path":"/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/node_modules/cache-loader/dist/cjs.js","mtime":1593769583426},{"path":"/Users/95h/95h-Projects/vue-renren后台管理系统模板/security-enterprise-admin/node_modules/vue-loader/lib/index.js","mtime":1593769583804}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/95h/95h-Projects/vue-renren\\u540E\\u53F0\\u7BA1\\u7406\\u7CFB\\u7EDF\\u6A21\\u677F/security-enterprise-admin/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MainNavbar from \"./main-navbar\";\nimport MainSidebar from \"./main-sidebar\";\nimport MainContent from \"./main-content\";\nimport MainThemeTools from \"./main-theme-tools\";\nimport debounce from 'lodash/debounce';\nexport default {\n  provide: function provide() {\n    return {\n      // 刷新\n      refresh: function refresh() {\n        var _this = this;\n\n        this.$store.state.contentIsNeedRefresh = true;\n        this.$nextTick(function () {\n          _this.$store.state.contentIsNeedRefresh = false;\n        });\n      }\n    };\n  },\n  data: function data() {\n    return {\n      loading: true\n    };\n  },\n  components: {\n    MainNavbar: MainNavbar,\n    MainSidebar: MainSidebar,\n    MainContent: MainContent,\n    MainThemeTools: MainThemeTools\n  },\n  watch: {\n    $route: 'routeHandle'\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.windowResizeHandle();\n    this.routeHandle(this.$route);\n    Promise.all([this.getUserInfo(), this.getPermissions()]).then(function () {\n      _this2.loading = false;\n    });\n  },\n  methods: {\n    // 窗口改变大小\n    windowResizeHandle: function windowResizeHandle() {\n      var _this3 = this;\n\n      this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false;\n      window.addEventListener('resize', debounce(function () {\n        _this3.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false;\n      }, 150));\n    },\n    // 路由, 监听\n    routeHandle: function routeHandle(route) {\n      if (!route.meta.isTab) {\n        return false;\n      }\n\n      var tab = this.$store.state.contentTabs.filter(function (item) {\n        return item.name === route.name;\n      })[0];\n\n      if (!tab) {\n        tab = _objectSpread(_objectSpread(_objectSpread({}, window.SITE_CONFIG['contentTabDefault']), route.meta), {}, {\n          'name': route.name,\n          'params': _objectSpread({}, route.params),\n          'query': _objectSpread({}, route.query)\n        });\n        this.$store.state.contentTabs = this.$store.state.contentTabs.concat(tab);\n      }\n\n      this.$store.state.sidebarMenuActiveName = tab.menuId;\n      this.$store.state.contentTabsActiveName = tab.name;\n    },\n    // 获取当前管理员信息\n    getUserInfo: function getUserInfo() {\n      var _this4 = this;\n\n      return this.$http.get('/sys/user/info').then(function (_ref) {\n        var res = _ref.data;\n\n        if (res.code !== 0) {\n          return _this4.$message.error(res.msg);\n        }\n\n        _this4.$store.state.user.id = res.data.id;\n        _this4.$store.state.user.name = res.data.username;\n        _this4.$store.state.user.superAdmin = res.data.superAdmin;\n      }).catch(function () {});\n    },\n    // 获取权限\n    getPermissions: function getPermissions() {\n      var _this5 = this;\n\n      return this.$http.get('/sys/menu/permissions').then(function (_ref2) {\n        var res = _ref2.data;\n\n        if (res.code !== 0) {\n          return _this5.$message.error(res.msg);\n        }\n\n        window.SITE_CONFIG['permissions'] = res.data;\n      }).catch(function () {});\n    }\n  }\n};",{"version":3,"sources":["main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-loading.fullscreen.lock=\"loading\" :element-loading-text=\"$t('loading')\" :class=\"['aui-wrapper', { 'aui-sidebar--fold': $store.state.sidebarFold }]\">\r\n    <template v-if=\"!loading\">\r\n      <main-navbar />\r\n      <main-sidebar />\r\n      <div class=\"aui-content__wrapper\">\r\n        <main-content v-if=\"!$store.state.contentIsNeedRefresh\" />\r\n      </div>\r\n      <main-theme-tools />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MainNavbar from './main-navbar'\r\nimport MainSidebar from './main-sidebar'\r\nimport MainContent from './main-content'\r\nimport MainThemeTools from './main-theme-tools'\r\nimport debounce from 'lodash/debounce'\r\nexport default {\r\n  provide () {\r\n    return {\r\n      // 刷新\r\n      refresh () {\r\n        this.$store.state.contentIsNeedRefresh = true\r\n        this.$nextTick(() => {\r\n          this.$store.state.contentIsNeedRefresh = false\r\n        })\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      loading: true\r\n    }\r\n  },\r\n  components: {\r\n    MainNavbar,\r\n    MainSidebar,\r\n    MainContent,\r\n    MainThemeTools\r\n  },\r\n  watch: {\r\n    $route: 'routeHandle'\r\n  },\r\n  created () {\r\n    this.windowResizeHandle()\r\n    this.routeHandle(this.$route)\r\n    Promise.all([\r\n      this.getUserInfo(),\r\n      this.getPermissions()\r\n    ]).then(() => {\r\n      this.loading = false\r\n    })\r\n  },\r\n  methods: {\r\n    // 窗口改变大小\r\n    windowResizeHandle () {\r\n      this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false\r\n      window.addEventListener('resize', debounce(() => {\r\n        this.$store.state.sidebarFold = document.documentElement['clientWidth'] <= 992 || false\r\n      }, 150))\r\n    },\r\n    // 路由, 监听\r\n    routeHandle (route) {\r\n      if (!route.meta.isTab) {\r\n        return false\r\n      }\r\n      var tab = this.$store.state.contentTabs.filter(item => item.name === route.name)[0]\r\n      if (!tab) {\r\n        tab = {\r\n          ...window.SITE_CONFIG['contentTabDefault'],\r\n          ...route.meta,\r\n          'name': route.name,\r\n          'params': { ...route.params },\r\n          'query': { ...route.query }\r\n        }\r\n        this.$store.state.contentTabs = this.$store.state.contentTabs.concat(tab)\r\n      }\r\n      this.$store.state.sidebarMenuActiveName = tab.menuId\r\n      this.$store.state.contentTabsActiveName = tab.name\r\n    },\r\n    // 获取当前管理员信息\r\n    getUserInfo () {\r\n      return this.$http.get('/sys/user/info').then(({ data: res }) => {\r\n        if (res.code !== 0) {\r\n          return this.$message.error(res.msg)\r\n        }\r\n        this.$store.state.user.id = res.data.id\r\n        this.$store.state.user.name = res.data.username\r\n        this.$store.state.user.superAdmin = res.data.superAdmin\r\n      }).catch(() => {})\r\n    },\r\n    // 获取权限\r\n    getPermissions () {\r\n      return this.$http.get('/sys/menu/permissions').then(({ data: res }) => {\r\n        if (res.code !== 0) {\r\n          return this.$message.error(res.msg)\r\n        }\r\n        window.SITE_CONFIG['permissions'] = res.data\r\n      }).catch(() => {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views"}]}